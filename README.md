# JUnit XML to CSV Converter

Convert JUnit XML test reports to CSV. Recursively scans a directory for JUnit XML files and outputs a CSV summarizing test suite and test case results. Ideal for aggregating and analyzing automated test results.

## Features

- Parses one or more JUnit XML files from a directory.
- Extracts test suite and test case details, including results.
- Outputs a single CSV file with all test cases and their statuses.

## Usage

### Requirements

- Python 3.6 or higher

### Installation

No installation required. Just clone or download this repository.

### Command Line
`python junit_xml_to_csv.py <xml_dir> <output_csv>`

- `<xml_dir>`: Path to the directory containing JUnit XML files.
- `<output_csv>`: Path to the output CSV file.

#### Example
`python junit_xml_to_csv.py ./test-results ./summary.csv`


## Output

The generated CSV will have the following columns:

- `TestSuite: Name`
- `TestSuite: Timestamp`
- `TestCase: ClassName`
- `TestCase: Name`
- `TestCase: Time`
- `TestCase: Result` (`PASSED`, `FAILURE`, `ERROR`, or `SKIPPED`)

## Sample Output

| TestSuite: Name | TestSuite: Timestamp | TestCase: ClassName | TestCase: Name | TestCase: Time | TestCase: Result |
|-----------------|---------------------|---------------------|----------------|----------------|------------------|
| suite1          | 2024-06-01T12:00:00 | MyClass             | test_method1   | 0.123          | PASSED           |
| suite1          | 2024-06-01T12:00:00 | MyClass             | test_method2   | 0.456          | FAILURE          |

## Notes

- Only XML files with the `.xml` extension in the specified directory are processed.
- Uses the JUnit XML file format commonly generated by testing frameworks like JUnit, NUnit, etc. See https://github.com/testmoapp/junitxml
- Supports the earlier JUnit XML format with root `<testsuite>` and `<testcase>` elements as well as the newer format with root `<testsuites>` and multiple `<testsuite>` elements.

## Error Handling

- The script will skip files that cannot be parsed as valid JUnit XML.
- Missing or unexpected fields are ignored.

## Limitations

- Only standard JUnit XML formats are supported.
- Custom or extended XML schemas may not be parsed correctly.

## CSV Encoding

- The output CSV is encoded in UTF-8.

## Contributing

Contributions are welcome! Please open an issue or submit a pull request via GitHub.

## Contact

For questions or support, open an issue on this repository.

## Attribution

This code is based on [junit-xml2csv](https://github.com/onozaty/junit-xml2csv).
Copyright (c) 2024 onozaty
Used Copilot to convert from Java to Python and then made some improvements:
* Simplicity - simplified code structure, removed unnecessary complexity, single code file
* Robustness - added error handling, ignores missing timestamps, supports newer JUnit XML format
* Performance - uses `os.walk` for recursive directory scanning
* Updated unit tests to not rely on example files
* Display a count the XML files
* Support newer and older JUnit XML formats

## License

MIT License
